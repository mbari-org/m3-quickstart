import{d as y,B as _,r as i,m as s,o as v,c as g,a as c,t as S,u as h,g as q,F as Q,D as A,e as N,q as m}from"./index-Bzw5iiEC.js";import{c as R,r as w,e as B,Q as L}from"./QueryRunner-BoK8VxAE.js";import"./query-results-DX3PRUWY.js";const z=y({__name:"DeploymentLookup",setup(k){const l=R(),a=A(),n=_(),o=i(!1),p=i(0);s(()=>n.isLoading,e=>{e||(o.value=!0)},{immediate:!0}),s(()=>a.params.name,e=>{n.isLoading||(o.value=!0)},{immediate:!0}),s(()=>a.query.url,e=>{e&&(n.url=e)},{immediate:!0}),s(()=>o.value,e=>{e&&d(a.params.name)},{immediate:!0});function d(e,r=!0){e&&(w(),Array.isArray(e)&&(e=e[0]),l.add(e),f(r))}function f(e=!0){const r=B().api;console.log("annosaurusApi",r),new L(r).runQuery(t=>{p.value=t}).then(()=>{e&&m.push({name:"results-table-view"})}).catch(t=>{console.error(t),m.push({name:"query-view"})})}return(e,r)=>{const u=N("v-progress-circular");return v(),g(Q,null,[c("h1",null,"Loading annotations for "+S(h(a).params.name),1),c("div",null,[q(u,{indeterminate:""})])],64)}}});export{z as default};
