import{d as y,B as v,r as m,m as s,o as _,c as h,a as l,t as S,u as q,g as w,F as Q,D as A,e as N,q as u}from"./index-BzskY33X.js";import{c as R,r as B,j as D,e as L,Q as k}from"./QueryRunner-CvyJrBrQ.js";import"./query-results-DSvhyGAo.js";const F=y({__name:"DeploymentLookup",setup(V){const p=R(),r=A(),t=v(),o=m(!1),d=m(0),i=r.query.images==="true";s(()=>t.isLoading,e=>{e||(o.value=!0)},{immediate:!0}),s(()=>r.params.name,e=>{t.isLoading||(o.value=!0)},{immediate:!0}),s(()=>r.query.url,e=>{e&&(t.url=e)},{immediate:!0}),s(()=>o.value,e=>{e&&f(r.params.name)},{immediate:!0});function f(e,a=!0){e&&(B(),Array.isArray(e)&&(e=e[0]),i&&(D().imagesOnly=!0),p.add(e),g(a))}function g(e=!0){const a=L().api;console.log("annosaurusApi",a),new k(a).runQuery(n=>{d.value=n}).then(()=>{e&&(i?u.push({name:"results-image-grid-view"}):u.push({name:"results-table-view"}))}).catch(n=>{console.error(n),u.push({name:"query-view"})})}return(e,a)=>{const c=N("v-progress-circular");return _(),h(Q,null,[l("h1",null,"Loading annotations for "+S(q(r).params.name),1),l("div",null,[w(c,{indeterminate:""})])],64)}}});export{F as default};
